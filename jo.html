<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy Birthday Jo!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ============= FIRST FILE STYLES ============= -->
    <style>
        /* --- 1. PAGE SETUP (FIRST PAGE) --- */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at center, #ffe0e6 0%, #ffc0cb 50%, #ffb6c1 100%);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            position: relative; 
        }

        /* --- GLOWING STARS --- */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0; 
            animation: starGlow 3s infinite ease-out forwards; 
            box-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.6); 
            z-index: 1; 
        }
        @keyframes starGlow {
            0% { transform: scale(0.5); opacity: 0; }
            30% { transform: scale(1); opacity: 1; }
            70% { transform: scale(0.8); opacity: 0.8; }
            100% { transform: scale(0.5); opacity: 0; }
        }

        .star:nth-child(1) { top: 5%; left: 15%; width: 4px; height: 4px; animation-delay: 0s; }
        .star:nth-child(2) { top: 25%; left: 85%; width: 6px; height: 6px; animation-delay: 1s; }
        .star:nth-child(3) { top: 65%; left: 5%; width: 5px; height: 5px; animation-delay: 0.5s; }
        .star:nth-child(4) { top: 75%; left: 90%; width: 3px; height: 3px; animation-delay: 1.5s; }
        .star:nth-child(5) { top: 40%; left: 30%; width: 7px; height: 7px; animation-delay: 0.2s; }
        .star:nth-child(6) { top: 15%; left: 60%; width: 5px; height: 5px; animation-delay: 0.8s; }
        .star:nth-child(7) { top: 85%; left: 40%; width: 4px; height: 4px; animation-delay: 1.2s; }
        .star:nth-child(8) { top: 10%; left: 70%; width: 8px; height: 8px; animation-delay: 0.7s; }
        .star:nth-child(9) { top: 50%; left: 10%; width: 6px; height: 6px; animation-delay: 0.3s; }
        .star:nth-child(10) { top: 30%; left: 50%; width: 4px; height: 4px; animation-delay: 1.8s; }

        /* --- BACKGROUND HEART SHAPES (FIRST PAGE) --- */
        .bg-heart {
            position: absolute;
            background-color: #ff99aa;
            opacity: 0.3;
            pointer-events: none;
            z-index: 0;
            animation: pulseHeart 4s infinite ease-in-out alternate;
        }

        .bg-heart::before, .bg-heart::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: inherit;
            border-radius: 50%;
        }
        .bg-heart::before { left: -50%; }
        .bg-heart::after { top: -50%; }

        .bg-heart:nth-child(11) { top: 10%; left: 5%; width: 60px; height: 60px; transform: rotate(-20deg); animation-delay: 0s;}
        .bg-heart:nth-child(12) { top: 70%; left: 15%; width: 80px; height: 80px; transform: rotate(40deg); animation-delay: 1s;}
        .bg-heart:nth-child(13) { top: 20%; left: 80%; width: 90px; height: 90px; transform: rotate(10deg); animation-delay: 0.5s;}
        .bg-heart:nth-child(14) { top: 50%; left: 90%; width: 70px; height: 70px; transform: rotate(-50deg); animation-delay: 1.5s;}
        .bg-heart:nth-child(15) { top: 85%; left: 60%; width: 50px; height: 50px; transform: rotate(25deg); animation-delay: 2s;}
        .bg-heart:nth-child(16) { top: 30%; left: 40%; width: 100px; height: 100px; transform: rotate(-10deg); animation-delay: 0.7s;}
        .bg-heart:nth-child(17) { top: 5%; left: 45%; width: 70px; height: 70px; transform: rotate(30deg); animation-delay: 1.3s;}
        .bg-heart:nth-child(18) { top: 90%; left: 5%; width: 40px; height: 40px; transform: rotate(0deg); animation-delay: 2.5s;}
        .bg-heart:nth-child(19) { top: 60%; left: 80%; width: 55px; height: 55px; transform: rotate(-15deg); animation-delay: 0.3s;}
        .bg-heart:nth-child(20) { top: 15%; left: 25%; width: 75px; height: 75px; transform: rotate(20deg); animation-delay: 1.8s;}
        .bg-heart:nth-child(21) { top: 40%; left: 10%; width: 65px; height: 65px; transform: rotate(5deg); animation-delay: 0.9s;}
        .bg-heart:nth-child(22) { top: 20%; left: 60%; width: 85px; height: 85px; transform: rotate(-30deg); animation-delay: 2.2s;}

        @keyframes pulseHeart {
            0% { transform: scale(1) rotate(var(--initial-rotation, 0deg)); opacity: 0.3; }
            50% { transform: scale(1.05) rotate(var(--initial-rotation, 0deg)); opacity: 0.35; }
            100% { transform: scale(1) rotate(var(--initial-rotation, 0deg)); opacity: 0.3; }
        }

        .bg-heart:nth-child(11) { --initial-rotation: -20deg; }
        .bg-heart:nth-child(12) { --initial-rotation: 40deg; }
        .bg-heart:nth-child(13) { --initial-rotation: 10deg; }
        .bg-heart:nth-child(14) { --initial-rotation: -50deg; }
        .bg-heart:nth-child(15) { --initial-rotation: 25deg; }
        .bg-heart:nth-child(16) { --initial-rotation: -10deg; }
        .bg-heart:nth-child(17) { --initial-rotation: 30deg; }
        .bg-heart:nth-child(18) { --initial-rotation: 0deg; }
        .bg-heart:nth-child(19) { --initial-rotation: -15deg; }
        .bg-heart:nth-child(20) { --initial-rotation: 20deg; }
        .bg-heart:nth-child(21) { --initial-rotation: 5deg; }
        .bg-heart:nth-child(22) { --initial-rotation: -30deg; }

        /* --- 2. CARD CONTAINER --- */
        .card-container {
            position: relative;
            width: 320px;
            height: 380px;
            border: 2px solid black; 
            border-radius: 20px 20px 0 0; 
            background-color: #ffcccc; 
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
            z-index: 10; 
        }

        /* --- 3. HEART RING --- */
        .heart-ring {
            position: absolute;
            width: 260px;
            height: 240px;
            z-index: 5;
            filter: drop-shadow(0 5px 5px rgba(255, 100, 150, 0.3));
            pointer-events: none; 
        }

        /* --- 4. ENVELOPE --- */
        .envelope {
            position: relative;
            width: 180px;
            height: 120px;
            background: linear-gradient(to bottom, #fff5f7, #ffe4e8);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            z-index: 2;
            display: flex;
            justify-content: center;
            align-items: center;
            top: 10px;
            cursor: pointer;
            transition: top 0.5s ease;
        }

        .envelope::before {
            content: '';
            position: absolute;
            top: 0;
            width: 0;
            height: 0;
            border-left: 90px solid transparent;
            border-right: 90px solid transparent;
            border-top: 65px solid #ffdae0;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.1));
            z-index: 3;
            transform-origin: top;
            transition: transform 0.6s ease; 
        }

        .envelope::after {
            content: '';
            position: absolute;
            bottom: 0;
            width: 0;
            height: 0;
            border-left: 90px solid transparent;
            border-right: 90px solid transparent;
            border-bottom: 55px solid #fff;
            opacity: 0.6;
            border-radius: 0 0 15px 15px;
            z-index: 2;
            pointer-events: none;
        }

        .heart-seal {
            position: absolute;
            top: 35px;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at 30% 30%, #ff88aa, #ff4466);
            transform: rotate(45deg);
            box-shadow: 2px 5px 10px rgba(0,0,0,0.2);
            z-index: 10;
            animation: heartFloat 3.5s ease-in-out infinite;
            transition: opacity 0.3s ease;
        }
        .heart-seal::before, .heart-seal::after {
            content: "";
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: inherit;
        }
        .heart-seal::before { left: -20px; }
        .heart-seal::after { top: -20px; }

        @keyframes heartFloat {
            0%, 100% { 
                transform: rotate(45deg) translateY(0); 
            }
            50% { 
                transform: rotate(45deg) translateY(-4px); 
            }
        }

        /* --- 5. PASSWORD SCREEN --- */
        .password-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none; 
            transition: opacity 0.8s ease 0.5s; 
            z-index: 20;
            padding-bottom: 40px;
        }

        .hearts-container {
            position: absolute;
            top: 50px; 
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
            pointer-events: none;
            z-index: 100; 
        }

        .floating-heart {
            position: absolute;
            color: #ff3366;
            font-size: 16px;
            opacity: 0;
            top: 0;
            animation: floatUp 2.5s infinite ease-in;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        @keyframes floatUp {
            0%   { transform: translateY(0) scale(0.9);  opacity: 0; }
            20%  { transform: translateY(0) scale(1);    opacity: 1; }
            100% { transform: translateY(0) scale(1.05); opacity: 0; }
        }

        .floating-heart:nth-child(1) { left: 20%; animation-delay: 0s; font-size: 18px; }
        .floating-heart:nth-child(2) { left: 80%; animation-delay: 1.2s; font-size: 14px; }
        .floating-heart:nth-child(3) { left: 50%; animation-delay: 0.6s; font-size: 20px; }
        .floating-heart:nth-child(4) { left: 30%; animation-delay: 1.8s; font-size: 12px; }

        .hello-kitty-img {
            width: 150px; 
            height: auto;
            margin-top: -280px; 
            margin-bottom: 10px; 
            filter: drop-shadow(0 4px 5px rgba(0,0,0,0.15)); 
            z-index: 10;
        }

        .speech-bubble {
            background: white;
            padding: 15px 25px;
            border-radius: 20px;
            margin-bottom: 20px; 
            font-weight: bold;
            color: #ff6688;
            position: relative;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 160px;
            min-height: 24px;
            white-space: nowrap; 
            z-index: 110; 
        }
        
        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px; 
            left: 50%;
            transform: translateX(-50%);
            border-width: 10px 10px 0 10px;
            border-style: solid;
            border-color: white transparent transparent transparent;
        }
        
        .cursor::after {
            content: '|';
            animation: blink 0.8s infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        .pin-input {
            width: 120px;
            padding: 10px;
            text-align: center;
            border: 2px solid #ff6688;
            border-radius: 10px;
            background: #fff0f5;
            color: #ff3366;
            font-size: 18px;
            letter-spacing: 5px; 
            outline: none;
            transition: border-color 0.3s;
        }
        .pin-input:focus { border-color: #ff3366; }
        
        .shake { animation: shake 0.5s; }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        .card-container.open .envelope::before { transform: rotateX(180deg); z-index: 1; }
        .card-container.open .heart-seal { opacity: 0; }
        .card-container.open .envelope { top: 50px; cursor: default; }
        .card-container.open .password-layer { opacity: 1; pointer-events: all; }

        /* ---------- SECOND PAGE (INSIDE FIRST FILE) STYLES ---------- */
        #page2{
            position:fixed;
            inset:0;
            display:flex;
            align-items:center;
            justify-content:center;
            opacity:0;
            pointer-events:none;
            transition:opacity 0.8s ease;
        }

        .heart{
            position:absolute;
            font-size:22px;
            opacity:0.25;
            animation:float 10s linear infinite;
        }
        @keyframes float{
            from{transform:translateY(110vh);}
            to{transform:translateY(-120px);}
        }

        .stage{
            z-index:2;
            text-align:center;
            width:100%;
            display:flex;
            justify-content:center;
            align-items:center;
            flex-direction:column;
        }

        #block{
            display:none;
            flex-direction:column;
            align-items:center;
            transition:opacity 2s;
        }
        #block.fade{opacity:0;}

        #msg{
            font-size:28px;
            font-weight:bold;
            min-height:80px;
            max-width:90vw;
            color: white;
            -webkit-text-stroke: 1.2px black;
            text-shadow: 
              1px 1px 0 black,
             -1px 1px 0 black,
              1px -1px 0 black,
             -1px -1px 0 black;
        }

        #img{
            margin-top:18px;
            max-width:320px;
            width:70vw;
            border-radius:20px;
            box-shadow:0 10px 25px rgba(0,0,0,.3);
            opacity:0;
            transition:1s;
        }
        #img.show{opacity:1;}

        .popup{
            position:fixed;
            inset:0;
            background:rgba(0,0,0,.6);
            display:flex;
            align-items:center;
            justify-content:center;
            z-index:50;
        }
        .popup-box{
            background:white;
            padding:25px 35px;
            border-radius:18px;
            color:#333;
            text-align:center;
        }
        .popup-box button{
            margin:10px;
            padding:10px 22px;
            border:none;
            border-radius:12px;
            cursor:pointer;
            font-weight:bold;
            background:#ff9aa2;
            color:white;
        }

        #ig{display:none;}
        .ig-box{
            background:#fafafa;
            border-radius:24px;
            padding:12px;
            width:300px;
            color:#222;
            box-shadow:0 10px 25px rgba(0,0,0,.3);
        }
        .ig-top{display:flex;gap:8px;align-items:center;font-size:13px;font-weight:bold;padding-bottom:8px;}
        .ig-avatar{
            width:26px;height:26px;border-radius:50%;
            background:linear-gradient(45deg,#feda75,#fa7e1e,#d62976,#962fbf,#4f5bd5);
            padding:2px;
        }
        .ig-avatar div{
            width:100%;height:100%;background:white;border-radius:50%;
        }
        .ig-bubble{
            background:white;
            padding:12px 14px;
            border-radius:18px;
            box-shadow:0 3px 8px rgba(0,0,0,.1);
            margin-top:6px;
        }
        .ig-footer{
            display:flex;
            justify-content:space-between;
            font-size:11px;
            color:#888;
            margin-top:6px;
        }
        .send-icon.animate{
            animation:fly 2s forwards;
        }
        @keyframes fly{
            0%{transform:translate(0);}
            100%{transform:translate(40px,-20px);opacity:0;}
        }
        .sent{opacity:0;transition:1.5s;}
        .sent.show{opacity:1;}
    </style>

    <!-- WRAPPERS -->
    <style>
        #first-page {
            width: 100%;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        #second-page {
            width: 100%;
            display: none;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s ease; /* medium fade */
        }
        #second-page.show {
            display: block;
            opacity: 1;
            pointer-events: auto;
        }
    </style>

    <!-- ============= SECOND BIG PAGE STYLES (YOUR SECOND CODE) ============= -->
    <style>
    /* =========================================
       1. GLOBAL & BACKGROUND
       ========================================= */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start; /* <--- FIXED: restores original layout for second page */
        background: radial-gradient(circle at center, #ffe0e6 0%, #ffc0cb 50%, #ffb6c1 100%);
        font-family: 'Arial', sans-serif;
        overflow-x: hidden;
        overflow-y: auto;
    }

    /* (everything below is exactly your second code‚Äôs CSS) */

    .main-top-heading{
        margin-top: 60px;
        margin-bottom: 20px;
        font-size: 2.4rem;
        font-weight: 800;
        letter-spacing: 1px;
        text-align: center;
        color: #FFD700;
        -webkit-text-stroke: 2px #000000;
        text-shadow: 0 0 10px rgba(0,0,0,0.6);
        z-index: 5;
    }

    .vibey-bg {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
        background: radial-gradient(circle at center, #ffe0e6 0%, #ffc0cb 50%, #ffb6c1 100%);
        background-size: 400% 400%; animation: gradientShift 10s ease infinite;
    }
    .glow-orb { position: absolute; border-radius: 50%; filter: blur(60px); opacity: 0.6; animation: floatOrb 20s infinite ease-in-out; }
    .orb1 { width: 300px; height: 300px; background: #ff99aa; top: -50px; left: -50px; }
    .orb2 { width: 400px; height: 400px; background: #fff0f5; bottom: -100px; right: -100px; }
    .orb3 { width: 200px; height: 200px; background: #ffdee3; top: 40%; left: 60%; }
    @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    @keyframes floatOrb { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(30px, -30px); } }

    .star { position: fixed; background: white; border-radius: 50%; opacity: 0; animation: starGlow 3s infinite ease-out forwards; box-shadow: 0 0 10px rgba(255,255,255,0.8); z-index: 0; }
    @keyframes starGlow { 0% { transform: scale(0.5); opacity: 0; } 50% { opacity: 1; } 100% { transform: scale(0.5); opacity: 0; } }

    .bg-heart {
        position: fixed; background-color: #ff99aa; opacity: 0.3; pointer-events: none; z-index: 0; 
        animation: pulseHeart 4s infinite ease-in-out alternate;
    }
    .bg-heart::before, .bg-heart::after { content: ''; position: absolute; width: 100%; height: 100%; background-color: inherit; border-radius: 50%; }
    .bg-heart::before { left: -50%; } .bg-heart::after { top: -50%; }
    @keyframes pulseHeart { 0% { transform: scale(1) rotate(-10deg); } 100% { transform: scale(1.1) rotate(10deg); } }

    .header-section {
        position: relative;
        width: 100%;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding-top: 10px;
    }

    .main-image-container {
        position: relative;
        z-index: 20;
        display: flex;
        justify-content: center;
        align-items: center;
        animation: frameFloat 6s ease-in-out infinite;
    }
    @keyframes frameFloat {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    .main-crown{
        position:absolute;
        top:-25px;
        left:35px;
        font-size: 2.4rem;
        z-index: 4;
        transform: rotate(-15deg);
        text-shadow: 0 0 8px rgba(0,0,0,0.35);
    }

    .main-image {
        display: block;
        width: 300px;
        height: auto;
        max-width: 85vw;
        border: 10px solid white;
        outline: 3px solid #FFD700;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3), 0 0 0 8px rgba(255, 182, 193, 0.5);
        background: white;
        position: relative;
        z-index: 2;
    }

    .wings-wrapper {
        position: absolute;
        width: 500px; height: 400px;
        z-index: 1; pointer-events: none;
        display: flex; justify-content: space-between; align-items: center;
    }
    .wing-svg { width: 180px; height: 300px; filter: drop-shadow(0 0 10px rgba(135, 206, 250, 0.6)); }
    .left-wing { margin-right: -60px; }
    .right-wing { margin-left: -60px; }

    .golden-badge {
        position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%);
        background: linear-gradient(to right, #FFD700, #FDB931); color: #5a4a1b;
        padding: 8px 25px; border-radius: 50px; border: 2px solid white;
        font-weight: bold; font-size: 14px; text-transform: uppercase;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 3; white-space: nowrap;
    }

    .balloon-container { position: absolute; top: 40%; z-index: 30; cursor: pointer; }
    .left-balloons { left: 5%; }
    .right-balloons { right: 5%; }
    .balloon {
        width: 70px; height: 90px;
        background: radial-gradient(circle at 30% 30%, #ffebef, #ff6699);
        border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
        box-shadow: inset -5px -5px 10px rgba(0,0,0,0.1);
        position: relative; animation: sway 3s ease-in-out infinite; margin-bottom: 20px; transition: transform 0.2s;
    }
    .balloon::before { content: ''; position: absolute; bottom: -50px; left: 50%; width: 1px; height: 50px; background: rgba(255,255,255,0.8); }
    .balloon.b1 { animation-delay: 0s; } .balloon.b2 { animation-delay: 1.5s; background: radial-gradient(circle at 30% 30%, #fff, #ffcc00); }
    .balloon.b3 { animation-delay: 0.5s; background: radial-gradient(circle at 30% 30%, #fff, #ff3366); } .balloon.b4 { animation-delay: 2s; background: radial-gradient(circle at 30% 30%, #e6e6fa, #9370db); }
    @keyframes sway { 0%, 100% { transform: rotate(-5deg) translateY(0); } 50% { transform: rotate(5deg) translateY(-10px); } }
    .balloon.popped { transform: scale(1.5); opacity: 0; pointer-events: none; }
    .mini-heart { position: absolute; font-size: 24px; color: #ff3366; z-index: 50; animation: fallDown 1.5s linear forwards; pointer-events: none; }
    @keyframes fallDown { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(150px) scale(0.5); opacity: 0; } }

    #confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100; }

    .cloud { position: absolute; background: white; border-radius: 50px; opacity: 0.8; animation: floatCloud 25s linear infinite; z-index: 1; }
    .cloud::after, .cloud::before { content: ''; position: absolute; background: white; border-radius: 50%; }
    .cloud::after { width: 50px; height: 50px; top: -25px; left: 10px; }
    .cloud::before { width: 40px; height: 40px; top: -15px; right: 10px; }
    .c1 { width: 100px; height: 40px; top: 10%; left: -20%; }
    .c2 { width: 80px; height: 30px; top: 20%; left: -20%; animation-delay: 5s; }
    @keyframes floatCloud { from { left: -150px; } to { left: 110%; } }

    .butterfly-container {
        position: absolute;
        width: 90px;
        height: 90px;
        top: 55%;
        left: 55%;
        z-index: 25;
        pointer-events: none;
        animation: flyArc 18s ease-in-out infinite;
    }

    .butterfly-svg {
        width: 100%;
        height: 100%;
        overflow: visible;
    }

    .butterfly-wing {
        stroke: rgba(255,255,255,0.7);
        stroke-width: 1.5;
        filter: drop-shadow(0 0 8px rgba(168, 85, 247, 0.9));
    }

    .butterfly-wing-left {
        transform-origin: 55px 40px;
        animation: flapWingLeft 0.28s ease-in-out infinite alternate;
    }

    .butterfly-wing-right {
        transform-origin: 65px 40px;
        animation: flapWingRight 0.28s ease-in-out infinite alternate;
    }

    .butterfly-body {
        fill: #1f2933;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.4));
    }

    .butterfly-antenna {
        stroke: #f9e5ff;
        stroke-width: 1.2;
        stroke-linecap: round;
    }

    @keyframes flapWingLeft {
        0%   { transform: rotateZ(6deg); }
        100% { transform: rotateZ(20deg); }
    }
    @keyframes flapWingRight {
        0%   { transform: rotateZ(-6deg); }
        100% { transform: rotateZ(-20deg); }
    }

    @keyframes flyArc {
        0%   { transform: translate(-40px, 40px) scale(0.9); }
        25%  { transform: translate(0px, 0px) scale(1); }
        50%  { transform: translate(30px, -40px) scale(0.95); }
        75%  { transform: translate(10px, -10px) scale(1); }
        100% { transform: translate(-40px, 40px) scale(0.9); }
    }

    .player-section {
        width: 100%; 
        min-height: 80vh;
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        position: relative; z-index: 10;
        margin-bottom: 20px;
    }
    .section-heading {
        font-size: 2.3rem; color: white; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 24px;
        text-shadow: 0 0 10px rgba(255, 105, 180, 0.8), 0 0 20px rgba(255, 105, 180, 0.6);
        z-index: 10;
        text-align: center;
    }

    .playlist-wrapper {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        gap: 20px;
        width: 100%;
        max-width: 1000px;
        padding: 10px;
        perspective: 1200px;
        flex-wrap: nowrap;
    }

    .music-card {
        width: 280px; padding: 20px;
        background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.6));
        backdrop-filter: blur(10px); border-radius: 25px; border: 2px solid rgba(255,255,255,0.6);
        box-shadow: 0 10px 25px rgba(255, 105, 180, 0.4);
        text-align: center; position: relative; z-index: 10; overflow: hidden;
        transition: transform 0.6s ease, box-shadow 0.6s ease, opacity 0.6s ease;
        transform-origin: center bottom;
    }

    .music-card::before {
        content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
        background-image: radial-gradient(circle, rgba(255,255,255,0.8) 1px, transparent 1px);
        background-size: 30px 30px; animation: particleShift 10s linear infinite; z-index: -1; opacity: 0.6;
    }
    @keyframes particleShift { 0% { transform: translateY(0); } 100% { transform: translateY(-50px); } }

    .card-left {
        transform: rotate(-10deg) translateY(30px) scale(0.9);
        opacity: 0.85;
    }
    .card-center {
        transform: translateY(0px) scale(1.05);
        z-index: 20;
    }
    .card-right {
        transform: rotate(10deg) translateY(30px) scale(0.9);
        opacity: 0.85;
    }

    .song-img {
        width: 100%; height: 220px; object-fit: cover; border-radius: 20px; margin-bottom: 15px;
    }
    .song-img.playing { animation: breathe 3s infinite ease-in-out; }
    @keyframes breathe { 0% { transform: scale(1); } 50% { transform: scale(1.02); } }

    .song-info h2 { font-size: 18px; color: #333; margin-bottom: 4px; }
    .song-info p { font-size: 13px; color: #666; margin-bottom: 10px; }

    .progress-area { margin-top: 10px; margin-bottom: 15px; }
    .progress-bar-bg { width: 100%; height: 6px; background: rgba(255, 224, 230, 0.5); border-radius: 10px; cursor: pointer; }
    .progress-bar-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #ff99cc, #ff3366); border-radius: 10px; transition: width 0.1s linear; }
    .time-stamps { display: flex; justify-content: space-between; font-size: 11px; color: #555; margin-top: 5px; font-weight: bold; }

    .controls { display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 5px; }
    .btn-control { padding: 10px 24px; background: #ff6699; color: white; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; font-size: 13px; }

    .scroll-indicator {
        position: absolute; bottom: 20px; color: white; font-size: 1.2rem; opacity: 0.8; animation: bounce 2s infinite;
    }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-10px);} 60% {transform: translateY(-5px);} }

    .song-slide-enter { animation: slideInRight 0.5s forwards; }
    .song-slide-exit { animation: slideOutLeft 0.5s forwards; }
    @keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    @keyframes slideOutLeft { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-100%); opacity: 0; } }

    #start-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000;
        display: flex; justify-content: center; align-items: center;
        background: rgba(0,0,0,0.5); color: white; font-size: 24px;
        cursor: pointer;
    }

    @media (max-width: 768px) {
        .playlist-wrapper {
            flex-direction: column;
            align-items: center;
        }
        .music-card {
            transform: none !important;
            opacity: 1 !important;
            width: 90%;
            max-width: 340px;
        }
    }

    .special-section {
        width: 100%;
        min-height: 80vh;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        padding:24px 10px 30px;
    }

    .special-section-heading{
        font-size: 2rem;
        color: #ffffff;
        text-shadow: 0 0 10px rgba(255,105,180,0.9);
        margin-bottom: 16px;
        text-align: center;
        letter-spacing: 1px;
        font-weight: 700;
    }

    .special-shell {
        width: 100%;
        max-width: 380px;
        background: #f7e0d9;
        border-radius: 36px;
        box-shadow: 0 18px 40px rgba(0,0,0,0.25);
        padding: 26px 24px 24px;
        color: #4c2b33;
        position:relative;
        transition:0.3s;
        font-family: Georgia,"Times New Roman",serif;
    }

    .special-shell.bump{
        transform:translateY(-6px);
    }

    .special-title{
        text-align:center;
        font-size:26px;
        color:#b4364b;
    }

    .special-line,.special-bottom-line{
        height:2px;
        background:#2b2b2b;
        margin:10px 0 14px;
    }

    .special-fromto{
        display:flex;
        justify-content:space-between;
        font-size:13px;
        margin-bottom:18px;
        font-weight:bold;
    }

    .special-main-card{
        border:2px solid #2b3245;
        border-radius:10px;
        background:#f9e8df;
        padding:22px;
        display:flex;
        justify-content:center;
        position:relative;
    }

    .special-image-box{
        text-align:center;
        background:#fdf5f1;
        padding:14px;
        border-radius:12px;
        box-shadow:0 8px 16px rgba(0,0,0,0.2);
    }

    .special-image-box img{
        width:140px;
        height:auto;
    }

    .special-card-caption{
        color:#b4364b;
        margin-top:8px;
        font-size:13px;
    }

    .special-arrow{
        position:absolute;
        top:50%;
        transform:translateY(-50%);
        width:30px;
        height:30px;
        border-radius:50%;
        border:none;
        cursor:pointer;
        font-size:18px;
        box-shadow:0 6px 12px rgba(0,0,0,0.25);
    }

    .special-arrow-left{left:10px;background:#f7cfd8;}
    .special-arrow-right{right:10px;background:#e84f6f;color:white;}

    .special-heart{
        position:absolute;
        bottom:12px;
        right:14px;
        color:#f28aa0;
        font-size:20px;
    }

    .special-footer{
        display:flex;
        justify-content:space-between;
        font-size:12px;
        margin-top:8px;
    }

    .special-footer-sign{
        font-family:cursive;
        font-size:16px;
        color:#b4364b;
    }

    .special-nav{
        margin-top:12px;
        width:100%;
        max-width:380px;
        display:flex;
        justify-content:space-between;
    }

    .special-nav-btn{
        padding:8px 16px;
        border:none;
        border-radius:40px;
        cursor:pointer;
        box-shadow:0 6px 14px rgba(0,0,0,0.3);
        font-size:13px;
    }

    .special-nav-back{background:#bcc9de;}
    .special-nav-next{background:#f7b5c5;}

    .hints-heading-main{
        font-size: 1.9rem;
        color: #ffe9a9;
        text-align:center;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
        font-weight: 800;
        margin-bottom: 10px;
    }

    .hints-section{
        width:100%;
        display:flex;
        justify-content:center;
        align-items:flex-start;
        padding:16px 10px 40px;
    }

    .hint-wrapper{
        width:100%;
        max-width:430px;
        background:#fbe2da;
        border-radius:30px;
        box-shadow:0 18px 40px rgba(0,0,0,0.25);
        padding:18px 16px 24px;
        position:relative;
        overflow:hidden;
    }

    .hint-header-title{
        font-size:20px;
        text-align:center;
        color:#d23d5b;
        font-weight:700;
        margin-bottom:4px;
    }

    .hint-header-sub{
        font-size:13px;
        text-align:center;
        color:#d4777e;
        margin-bottom:16px;
    }

    .hint-grid{
        display:grid;
        grid-template-columns:repeat(2,1fr);
        grid-gap:12px;
    }

    .hint-card:nth-child(3){
        grid-column:1 / -1;
        justify-self:center;
        width:92%;
    }

    .hint-card{
        background:#fbeadf;
        border-radius:18px;
        box-shadow:0 8px 18px rgba(0,0,0,0.18);
        height:130px;
        cursor:pointer;
        overflow:hidden;
        position:relative;
    }

    .hint-inner{
        width:100%;
        height:100%;
        position:relative;
        border-radius:18px;
        overflow:hidden;
    }

    .hint-face{
        position:absolute;
        inset:0;
        border-radius:18px;
        overflow:hidden;
        transition:opacity .4s ease;
    }

    .hint-front{
        background:#fbeadf;
        display:flex;
        justify-content:center;
        align-items:center;
        opacity:1;
    }

    .hint-front img{
        width:100%;
        height:100%;
        object-fit:cover;
    }

    .hint-back{
        background:#ffffff;
        border:2px solid #f8c6cb;
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
        padding:16px;
        text-align:center;
        color:#000000;
        font-weight:700;
        opacity:0;
    }

    .hint-card.flipped .hint-front{
        opacity:0;
    }

    .hint-card.flipped .hint-back{
        opacity:1;
    }

    .hint-question{
        font-size:13px;
        line-height:1.5;
        margin-bottom:12px;
        font-weight:700;
    }

    .hint-flip-text{
        font-size:12px;
        font-weight:600;
        padding:6px 16px;
        border-radius:999px;
        background:#ffd4dd;
        color:#d23d5b;
        box-shadow:0 4px 10px rgba(0,0,0,0.12);
    }

    @media (max-width:480px){
        .hint-card{
            height:120px;
        }
    }

    .thank-section{
        width:100%;
        display:flex;
        justify-content:center;
        align-items:center;
        padding:26px 10px 34px;
    }

    .thank-wrapper{
        width:100%;
        max-width:520px;
        padding:18px;
    }

    .thank-card{
        position:relative;
        background:#f7e0d9;
        border-radius:26px;
        box-shadow:0 18px 40px rgba(0,0,0,0.25);
        padding:28px 28px 30px;
        color:#3c2730;
    }

    .thank-label{
        font-size:13px;
        letter-spacing:0.12em;
        text-transform:uppercase;
        color:#7a5b62;
        margin-bottom:18px;
    }

    .thank-main{
        text-align:left;
        margin-bottom:18px;
        line-height:1.2;
    }

    .thank-main span.top-line{
        display:block;
        font-size:30px;
        font-style:italic;
        color:#e17ca7;
    }

    .thank-main span.bottom-line{
        display:block;
        font-size:32px;
        font-weight:700;
        color:#2c1820;
    }

    .thank-body{
        font-family:"Poppins","Segoe UI",system-ui,-apple-system,sans-serif;
        font-size:14px;
        color:#3f2a33;
        line-height:1.7;
        margin-bottom:26px;
        max-width:360px;
    }

    .thank-body span.highlight{
        display:block;
        margin-top:4px;
        font-weight:600;
    }

    .thank-footer{
        font-family:"Poppins","Segoe UI",system-ui,-apple-system,sans-serif;
        font-size:12px;
        color:#b26a88;
    }

    .thank-footer span.love{
        color:#d46293;
        font-weight:600;
    }

    .thank-footer span.dot{
        margin:0 4px;
    }

    .thank-kitty{
        position:absolute;
        right:22px;
        bottom:12px;
        width:110px;
        height:auto;
    }

    @media (max-width:480px){
        .thank-card{
            padding:24px 20px 26px;
        }
        .thank-main span.top-line{
            font-size:26px;
        }
        .thank-main span.bottom-line{
            font-size:28px;
        }
        .thank-body{
            max-width:100%;
        }
        .thank-kitty{
            width:95px;
        }
    }
    </style>
</head>
<body>

<!-- =============== FIRST PART (PIN + STORY) =============== -->
<div id="first-page">

    <div class="star"></div><div class="star"></div><div class="star"></div><div class="star"></div>
    <div class="star"></div><div class="star"></div><div class="star"></div><div class="star"></div>
    <div class="star"></div><div class="star"></div>

    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart"></div>

    <div class="card-container" id="mainCard">
        <svg class="heart-ring" viewBox="0 0 100 100">
            <path d="M50 85 C 20 70 5 50 5 30 C 5 10 25 5 50 28 C 75 5 95 10 95 30 C 95 50 80 70 50 85 Z" fill="none" stroke="#ff6688" stroke-width="8" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M50 85 C 20 70 5 50 5 30 C 5 10 25 5 50 28 C 75 5 95 10 95 30 C 95 50 80 70 50 85 Z" fill="none" stroke="rgba(255,255,255,0.4)" stroke-width="3" stroke-linecap="round" style="transform: scale(0.95); transform-origin: center;"/>
        </svg>

        <div class="password-layer">
            <div class="hearts-container">
                <div class="floating-heart">‚ù§</div>
                <div class="floating-heart">‚ù§</div>
                <div class="floating-heart">‚ù§</div>
                <div class="floating-heart">‚ù§</div>
            </div>

            <img src="https://pngimg.com/uploads/hello_kitty/hello_kitty_PNG9.png" alt="Hello Kitty" class="hello-kitty-img">

            <div class="speech-bubble">
                <span id="typewriterText"></span><span class="cursor"></span>
            </div>
            
            <input type="password" class="pin-input" id="pinInput" placeholder="****" maxlength="4" onkeyup="checkPin()" disabled>
        </div>

        <div class="envelope" onclick="openLetter()">
            <div class="heart-seal"></div>
        </div>
    </div>

    <!-- STORY + SONG PAGE -->
    <div id="page2">
        <audio id="song" src="assets/song.mp3"></audio>

        <div class="popup" id="popup">
            <div class="popup-box">
                <h3>Do u wanna play song jo? üéµ</h3>
                <button onclick="start(true)">Yes</button>
                <button onclick="start(false)">No</button>
            </div>
        </div>

        <div class="stage">
            <div id="block">
                <div id="msg"></div>
                <img id="img" alt="">
            </div>

            <div id="ig">
                <div class="ig-box">
                    <div class="ig-top">
                        <div class="ig-avatar"><div></div></div>
                        jo
                    </div>
                    <div class="ig-bubble">
                        <span id="igText"></span>
                    </div>
                    <div class="ig-footer">
                        <span id="sent" class="sent">Sent ‚úî</span>
                        <span id="sendIcon" class="send-icon">‚úà</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- =============== SECOND BIG BIRTHDAY SITE =============== -->
<div id="second-page">

    <div id="start-overlay" onclick="unlockAudio()">
        <p>TAP ANYWHERE TO START ‚ú®</p>
    </div>

    <div class="vibey-bg">
        <div class="glow-orb orb1"></div>
        <div class="glow-orb orb2"></div>
        <div class="glow-orb orb3"></div>
    </div>

    <canvas id="confetti-canvas"></canvas>
    <div class="star" style="top:10%; left:10%"></div>
    <div class="star" style="top:20%; left:80%"></div>
    <div class="star" style="top:50%; left:50%"></div>
    <div class="bg-heart"></div>
    <div class="bg-heart" style="top:50%"></div>

    <div class="cloud c1"></div>
    <div class="cloud c2"></div>

    <h1 class="main-top-heading">HAPPY BIRTHDAY LIL CUTIE</h1>

    <div class="butterfly-container">
        <svg class="butterfly-svg" viewBox="0 0 120 80">
            <defs>
                <linearGradient id="upperWingGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%"  stop-color="#a855f7" />
                    <stop offset="50%" stop-color="#6366f1" />
                    <stop offset="100%" stop-color="#38bdf8" />
                </linearGradient>
                <linearGradient id="lowerWingGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%"  stop-color="#f9a8ff" />
                    <stop offset="100%" stop-color="#bf4fff" />
                </linearGradient>
            </defs>

            <g class="butterfly-wing-left">
                <path class="butterfly-wing"
                      fill="url(#upperWingGrad)"
                      d="M60 40 C35 15 22 10 18 25 C14 40 26 50 45 56 Z" />
                <path class="butterfly-wing"
                      fill="url(#lowerWingGrad)"
                      d="M55 45 C32 45 22 50 22 62 C22 72 33 77 46 72 Z" />
            </g>

            <g class="butterfly-wing-right">
                <path class="butterfly-wing"
                      fill="url(#upperWingGrad)"
                      d="M60 40 C85 15 98 10 102 25 C106 40 94 50 75 56 Z" />
                <path class="butterfly-wing"
                      fill="url(#lowerWingGrad)"
                      d="M65 45 C88 45 98 50 98 62 C98 72 87 77 74 72 Z" />
            </g>

            <ellipse class="butterfly-body" cx="60" cy="45" rx="4" ry="18" />
            <circle  class="butterfly-body" cx="60" cy="30" r="5" />
            <path class="butterfly-antenna" d="M58 26 C55 20 52 18 50 20" fill="none"/>
            <path class="butterfly-antenna" d="M62 26 C65 20 68 18 70 20" fill="none"/>
        </svg>
    </div>

    <div class="header-section">
        <div class="balloon-container left-balloons">
            <div class="balloon b1" onclick="popBalloon(this)"></div>
            <div class="balloon b2" onclick="popBalloon(this)"></div>
        </div>

        <div class="main-image-container">
            <div class="main-crown">üëë</div>

            <div class="wings-wrapper">
                <svg class="wing-svg left-wing" viewBox="0 0 100 200">
                    <defs><linearGradient id="gradLeft" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#00BFFF;stop-opacity:0.9" /><stop offset="100%" style="stop-color:#EE82EE;stop-opacity:0.6" /></linearGradient></defs>
                    <path d="M100,50 Q20,0 10,80 Q0,180 100,160 Z" fill="url(#gradLeft)" stroke="rgba(255,255,255,0.7)" stroke-width="2"/>
                </svg>
                <svg class="wing-svg right-wing" viewBox="0 0 100 200">
                    <defs><linearGradient id="gradRight" x1="100%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#00BFFF;stop-opacity:0.9" /><stop offset="100%" style="stop-color:#EE82EE;stop-opacity:0.6" /></linearGradient></defs>
                    <path d="M0,50 Q80,0 90,80 Q100,180 0,160 Z" fill="url(#gradRight)" stroke="rgba(255,255,255,0.7)" stroke-width="2"/>
                </svg>
            </div>

            <img src="assets/wap.jpeg" alt="Birthday Image" class="main-image">
            <div class="golden-badge">Happy Birthday</div>
        </div>

        <div class="balloon-container right-balloons">
            <div class="balloon b3" onclick="popBalloon(this)"></div>
            <div class="balloon b4" onclick="popBalloon(this)"></div>
        </div>

        <div class="scroll-indicator">Scroll Down ‚¨á</div>
    </div>

    <div class="player-section">
        <div class="section-heading">OUR FAV SONGS üéµ üéπ üéº</div>

        <div class="playlist-wrapper">
            <div class="music-card card-left" id="left-card">
                <img src="" alt="Song Cover" class="song-img" id="left-cover">
                <div class="song-info">
                    <h2 id="left-title">Song Title</h2>
                    <p id="left-artist">Artist Name</p>
                </div>
            </div>

            <div class="music-card card-center" id="center-card">
                <div id="center-card-content">
                    <img src="" alt="Song Cover" class="song-img" id="center-cover">
                    <div class="song-info">
                        <h2 id="center-title">Song Title</h2>
                        <p id="center-artist">Artist Name</p>
                    </div>
                </div>

                <div class="progress-area">
                    <div class="progress-bar-bg" onclick="setProgress(event)">
                        <div class="progress-bar-fill" id="progress"></div>
                    </div>
                    <div class="time-stamps">
                        <span id="currTime">0:00</span>
                        <span id="durTime">0:00</span>
                    </div>
                </div>
                <div class="controls">
                    <button class="btn-control" id="playBtn">Play ‚ñ∂</button>
                    <button class="btn-control" id="shuffleBtn">Shuffle üîÄ</button>
                </div>
            </div>

            <div class="music-card card-right" id="right-card">
                <img src="" alt="Song Cover" class="song-img" id="right-cover">
                <div class="song-info">
                    <h2 id="right-title">Song Title</h2>
                    <p id="right-artist">Artist Name</p>
                </div>
            </div>
        </div>

        <audio id="audio-player" ontimeupdate="updateProgress()" onended="nextSong()"></audio>
    </div>

    <section class="special-section">
        <h2 class="special-section-heading">SPECIAL GIFT CARDS‚ù§Ô∏è‚Äçü©π</h2>

        <div class="special-shell" id="special-shell">
            <h2 class="special-title">Special Cards</h2>
            <div class="special-line"></div>

            <div class="special-fromto">
                <span>FROM: Me</span>
                <span>TO: My JO</span>
            </div>

            <div class="special-main-card">
                <button class="special-arrow special-arrow-left" id="btnPrev">‚ùÆ</button>

                <div class="special-image-box">
                    <img id="cardImg" src="">
                    <p id="cardTitle" class="special-card-caption"></p>
                </div>

                <button class="special-arrow special-arrow-right" id="btnNext">‚ùØ</button>
                <div class="special-heart">‚ô•</div>
            </div>

            <div class="special-bottom-line"></div>

            <div class="special-footer">
                <div>
                    <p><b>DATE:</b> Now</p>
                    <p><b>VALID FOR:</b> Forever</p>
                </div>
                <div>
                    <p>with love, your</p>
                    <p class="special-footer-sign">popcorn</p>
                </div>
            </div>
        </div>

        <div class="special-nav">
            <button class="special-nav-btn special-nav-back" id="btnPrev2">‚Üê Back</button>
            <button class="special-nav-btn special-nav-next" id="btnNext2">Next ‚Üí</button>
        </div>
    </section>

    <h2 class="hints-heading-main">TAKE THE HINTS JO</h2>

    <section class="hints-section">
        <div class="hint-wrapper">
            <div class="hint-header-title">Some Special Questions For You</div>
            <div class="hint-header-sub">Click each card to reveal a special HINT!</div>

            <div class="hint-grid">
                <div class="hint-card">
                    <div class="hint-inner">
                        <div class="hint-face hint-front">
                            <img src="assets/hint gif one.gif">
                        </div>
                        <div class="hint-face hint-back">
                            <p class="hint-question">WHAT IS UR NICKNAME?</p>
                            <div class="hint-flip-text">Tap to flip back</div>
                        </div>
                    </div>
                </div>

                <div class="hint-card">
                    <div class="hint-inner">
                        <div class="hint-face hint-front">
                            <img src="assets/hint gif 2.gif">
                        </div>
                        <div class="hint-face hint-back">
                            <p class="hint-question">WHAT IS THE DATE TDY?</p>
                            <div class="hint-flip-text">Tap to flip back</div>
                        </div>
                    </div>
                </div>

                <div class="hint-card">
                    <div class="hint-inner">
                        <div class="hint-face hint-front">
                            <img src="assets/hint gif 3.gif">
                        </div>
                        <div class="hint-face hint-back">
                            <p class="hint-question">
                                COMBINE THE BOTH PREV ANSWERS AND SEARCH IT ON THIS HINTED PLATFORM
                                ( SELFIE PULLA SONG ON YT 4:07 - 4:08 )
                            </p>
                            <div class="hint-flip-text">Tap to flip back</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="thank-section">
        <div class="thank-wrapper">
            <div class="thank-card">
                <div class="thank-label">THANK YOU JO ‚úß</div>

                <div class="thank-main">
                    <span class="top-line">I Hope i made</span>
                    <span class="bottom-line">you smile hehe</span>
                </div>

                <p class="thank-body">
                    Thank you for always being there for me.<br>
                    <span class="highlight">WISHING U GOOD LUCK üíï</span>
                </p>

                <div class="thank-footer">
                    <span class="love">made with love</span>
                    <span class="dot">¬∑</span>
                    valid forever ‚ô°
                </div>

                <img src="assets/FINAL FOOTTER GIF.gif" alt="Hello Kitty Thank You" class="thank-kitty">
            </div>
        </div>
    </section>

</div>

<!-- =================== SCRIPTS =================== -->
<script>
    /* FIRST PART: PIN + STORY */

    let attemptCount = 0;
    const typingSpeed = 100;
    const pauseAfterHello = 2000;
    const pauseAfterGood = 1500;

    let secondShown = false;
    function goToBigSite(){
        if(secondShown) return;
        secondShown = true;
        const first = document.getElementById("first-page");
        const second = document.getElementById("second-page");
        first.style.display = "none";
        second.style.display = "block";
        requestAnimationFrame(() => {
            second.classList.add("show");
        });
        window.scrollTo(0,0);
    }

    function openLetter() {
        document.getElementById("mainCard").classList.add("open");
        setTimeout(() => {
            startTypingSequence();
        }, 500);
    }

    async function startTypingSequence() {
        const textElement = document.getElementById("typewriterText");
        
        await typeText("Hello Jo... ü•∞", textElement);
        await new Promise(r => setTimeout(r, pauseAfterHello));
        
        textElement.innerText = "";
        await typeText("Good to see u ü•≥", textElement);
        await new Promise(r => setTimeout(r, pauseAfterGood));

        textElement.innerText = "";
        await typeText("Guess the pin ü§î", textElement);

        document.querySelector(".cursor").style.display = "none";
        const pinInput = document.getElementById("pinInput");
        pinInput.disabled = false;
        pinInput.focus();
    }

    function typeText(text, element) {
        return new Promise((resolve) => {
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerText += text.charAt(i);
                    i++;
                    setTimeout(type, typingSpeed);
                } else {
                    resolve();
                }
            }
            type();
        });
    }

    function checkPin() {
        const inputField = document.getElementById("pinInput");
        const messageBox = document.getElementById("typewriterText");
        const enteredPin = inputField.value;
        const correctPin = "0616";

        if (enteredPin.length === 4) {
            if (enteredPin === correctPin) {
                messageBox.innerText = "YAY! Correct! ‚ù§";
                messageBox.style.color = "#4CAF50";
                
                setTimeout(() => {
                    showPage2();
                }, 500);
                
            } else {
                attemptCount++;
                inputField.value = "";
                inputField.classList.add("shake");

                setTimeout(() => {
                    inputField.classList.remove("shake");
                }, 500);

                if (attemptCount === 1) {
                    messageBox.innerText = "dumboo its our dob combined üòú";
                } else if (attemptCount >= 2) {
                    messageBox.innerText = "Ur helpless...the pin is 0616 üôÑ";
                }
            }
        }
    }

    let page2Initialized = false;
    let song,popup,msg,img,block,ig,igText,sent,sendIcon;

    function showPage2(){
        const mainCard = document.getElementById("mainCard");
        const page2 = document.getElementById("page2");

        mainCard.style.display = "none";

        page2.style.opacity = "1";
        page2.style.pointerEvents = "auto";

        if(!page2Initialized){
            initPage2();
            page2Initialized = true;
        }
    }

    function initPage2(){
        for(let i=0;i<14;i++){
            let h=document.createElement("div");
            h.className="heart";
            h.innerText="‚ù§";
            h.style.left=Math.random()*100+"%";
            h.style.animationDelay=Math.random()*10+"s";
            document.body.appendChild(h);
        }

        song=document.getElementById("song");
        popup=document.getElementById("popup");
        msg=document.getElementById("msg");
        img=document.getElementById("img");
        block=document.getElementById("block");
        ig=document.getElementById("ig");
        igText=document.getElementById("igText");
        sent=document.getElementById("sent");
        sendIcon=document.getElementById("sendIcon");
    }

    function type(el,text,time,cb){
        el.innerHTML="";
        let i=0;
        let speed=time/text.length;
        let t=setInterval(()=>{
            el.innerHTML+=text[i++];
            if(i>=text.length){clearInterval(t);cb&&cb();}
        },speed);
    }

    function reset(){
        block.style.display="none";
        block.classList.remove("fade");
        img.classList.remove("show");
        ig.style.display="none";
        sent.classList.remove("show");
        sendIcon.classList.remove("animate");
    }

    function start(play){
        popup.style.display="none";
        if(play) song.play();
        m1();
    }

    function m1(){
        reset();
        block.style.display="flex";
        type(msg,"hey‚Ä¶ jo u made it through‚Ä¶ ü•πüíß",4000,()=>{
            img.src="assets/made it.png";
            img.classList.add("show");
            setTimeout(m2,2500);
        });
    }

    function m2(){
        reset();
        block.style.display="flex";
        type(msg,"I know u will make it topper jothik üí™üî•",4000,()=>{
            img.src="assets/ik u will make it.png";
            img.classList.add("show");
            setTimeout(m3,2500);
        });
    }

    function m3(){
        reset();
        block.style.display="flex";
        type(msg,"Soooo‚Ä¶ this is ur special day ‚Ä¶. mine too. üòå",4000,()=>{
            img.src="assets/shinchan.jpg";
            img.classList.add("show");
            setTimeout(m4,2500);
        });
    }

    function m4(){
        reset();
        ig.style.display="block";
        let text="Happiest birthday jooo..ü•∞ü•∞ u mean alot and u make me smile all day and help me pull through my bad making it good... i am glad that i met u. romba happiest bdy betaaaaa ‚ù§Ô∏è‚Äçü©π‚ù£Ô∏è....";
        type(igText,text,7000,()=>{
            setTimeout(()=>{
                sendIcon.classList.add("animate");
                sent.classList.add("show");
                setTimeout(m5,3500);
            },1000);
        });
    }

    function m5(){
        reset();
        block.style.display="flex";
        type(msg,"Atleast this is all i would have have snd.",3500,()=>{
            img.src="assets/shinchan kottu.jpg";
            img.classList.add("show");
            setTimeout(m6,2500);
        });
    }

    function m6(){
        reset();
        block.style.display="flex";
        type(msg,"But You are so special ‚ù§Ô∏è",3000,()=>{
            img.src="assets/kitten-love.gif";
            img.classList.add("show");
            setTimeout(m7,2500);
        });
    }

    function m7(){
        reset();
        block.style.display="flex";
        type(msg,"SOOO...ENJOY AND  take the hint üòå",3000,()=>{
            img.src="assets/take-a-hint-eyebrows-up.gif";
            img.classList.add("show");
            setTimeout(()=>{
                block.classList.add("fade");

                // stop first song
                song.pause();
                song.currentTime = 0;

                setTimeout(goToBigSite, 2500);
            },5000);
        });
    }
</script>

<script>
    /* SECOND BIG PAGE SCRIPTS (unchanged) */

    const canvas = document.getElementById('confetti-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let particles = [];
    const colors = ['#ff6699', '#ffccdd', '#ffffff', '#ffd700']; 

    function createParticle(x, y, isExplosion = false) {
        return {
            x,
            y,
            size: Math.random() * 8 + 4,
            color: colors[Math.floor(Math.random() * colors.length)],
            speedX: isExplosion ? (Math.random() - 0.5) * 15 : (Math.random() - 0.5) * 2,
            speedY: isExplosion ? (Math.random() - 1) * 15 : Math.random() * 3 + 1,
            rotation: Math.random() * 360,
            rotationSpeed: (Math.random() - 0.5) * 5,
            gravity: 0.15,
            opacity: 1
        };
    }

    function partyPop() {
        for (let i = 0; i < 200; i++)
            particles.push(createParticle(window.innerWidth / 2, window.innerHeight / 2, true));
    }
    function rainConfetti() {
        if (particles.length < 250)
            particles.push(createParticle(Math.random() * window.innerWidth, -10, false));
    }
    function animateConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        if (Math.random() < 0.1) rainConfetti();
        particles.forEach((p, index) => {
            p.x += p.speedX;
            p.y += p.speedY;
            p.speedY += p.gravity * 0.5;
            p.rotation += p.rotationSpeed;
            p.speedX *= 0.96;

            ctx.save();
            ctx.translate(p.x, p.y);
            ctx.rotate((p.rotation * Math.PI) / 180);
            ctx.fillStyle = p.color;
            ctx.globalAlpha = p.opacity;
            ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
            ctx.restore();

            if (p.y > window.innerHeight) particles.splice(index, 1);
        });
        requestAnimationFrame(animateConfetti);
    }

    window.onload = () => {
        partyPop();
        animateConfetti();
        preloadSong();
    };
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    });

    function popBalloon(element) {
        if (element.classList.contains('popped')) return;
        element.classList.add('popped');
        const rect = element.getBoundingClientRect();
        for (let i = 0; i < 10; i++) {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§';
            heart.classList.add('mini-heart');
            heart.style.left = (rect.left + 30) + 'px';
            heart.style.top = (rect.top + 30) + 'px';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 1500);
        }
    }

    const songs2 = [
        { title: "Humsafar", artist: "Sachet Tandon", file: "assets/Humsafar ‚Äì Sachet Tandon  (Saiyaara) Agar saath mere tu hai humsafar ü§ù Main na ye sochun kidhar üéØ - Music hype (youtube).mp3" },
        { title: "Saiyaara", artist: "Tanishk Bagchi", file: "assets/Saiyaara Lyrics - Tanishk Bagchi, Faheem Abdullah, Arslan Nizami.mp3" },
        { title: "Kalank", artist: "Arijit Singh", file: "assets/Kalank - Arijit Singh (Lyrics)  Lyrical Bam Hindi.mp3" },
        { title: "Can't Help Falling in Love", artist: "Elvis Presley", file: "assets/Elvis Presley - Can't Help Falling in Love (Lyrics).mp3" },
        { title: "What Makes You Beautiful", artist: "One Direction", file: "assets/One Direction - What Makes You Beautiful (Official Video).mp3" },
        { title: "If You Love Her", artist: "Forest Blakk", file: "assets/Forest Blakk - If You Love Her (Lyrics).mp3" },
        { title: "Perfect", artist: "Ed Sheeran", file: "assets/Ed Sheeran - Perfect [www.jetune.ru].mp3" }
    ];
    const images = ["assets/PIC 1.png", "assets/PIC2.jpg", "assets/PIC 3.jpg", "assets/PIC 4.jpg", "assets/PIC 5.jpg", "assets/6TH.jpg", "assets/PIC 7.jpg"];

    let currentIndex = 0;

    const audio = document.getElementById('audio-player');
    const progress = document.getElementById('progress');
    const currTime = document.getElementById('currTime');
    const durTime = document.getElementById('durTime');

    const centerCover = document.getElementById('center-cover');
    const centerTitle = document.getElementById('center-title');
    const centerArtist = document.getElementById('center-artist');
    const cardContent = document.getElementById('center-card-content');

    const leftCover = document.getElementById('left-cover');
    const leftTitle = document.getElementById('left-title');
    const leftArtist = document.getElementById('left-artist');

    const rightCover = document.getElementById('right-cover');
    const rightTitle = document.getElementById('right-title');
    const rightArtist = document.getElementById('right-artist');

    const playBtn = document.getElementById('playBtn');
    const shuffleBtn = document.getElementById('shuffleBtn');

    function unlockAudio() {
        document.getElementById('start-overlay').style.display = 'none';
        audio.play().then(() => {
            playBtn.innerText = "Pause ‚è∏";
            centerCover.classList.add('playing');
        }).catch(e => console.log("Unlock error", e));
    }

    function preloadSong() {
        currentIndex = Math.floor(Math.random() * songs2.length);
        renderCards();
    }

    function renderCards() {
        const prevIndex = (currentIndex - 1 + songs2.length) % songs2.length;
        const nextIndex = (currentIndex + 1) % songs2.length;

        const prevSong = songs2[prevIndex];
        const currSong = songs2[currentIndex];
        const nextSongObj = songs2[nextIndex];

        leftTitle.innerText = prevSong.title;
        leftArtist.innerText = prevSong.artist;
        leftCover.src = images[prevIndex % images.length];

        centerTitle.innerText = currSong.title;
        centerArtist.innerText = currSong.artist;
        centerCover.src = images[currentIndex % images.length];
        audio.src = currSong.file;

        progress.style.width = '0%';
        currTime.innerText = "0:00";
        durTime.innerText = "0:00";

        rightTitle.innerText = nextSongObj.title;
        rightArtist.innerText = nextSongObj.artist;
        rightCover.src = images[nextIndex % images.length];
    }

    playBtn.addEventListener('click', () => {
        if (audio.paused) {
            audio.play().then(() => {
                playBtn.innerText = "Pause ‚è∏";
                centerCover.classList.add('playing');
            }).catch(e => {
                console.error("Playback failed", e);
                alert("Cannot play song. Check filenames in folder!");
            });
        } else {
            audio.pause();
            playBtn.innerText = "Play ‚ñ∂";
            centerCover.classList.remove('playing');
        }
    });

    shuffleBtn.addEventListener('click', nextSong);

    function nextSong() {
        cardContent.classList.add('song-slide-exit');
        centerCover.classList.remove('playing');

        setTimeout(() => {
            currentIndex = (currentIndex + 1) % songs2.length;
            renderCards();

            cardContent.classList.remove('song-slide-exit');
            cardContent.classList.add('song-slide-enter');
            setTimeout(() => cardContent.classList.remove('song-slide-enter'), 500);

            audio.play().then(() => {
                playBtn.innerText = "Pause ‚è∏";
                centerCover.classList.add('playing');
            }).catch(e => console.log(e));
        }, 300);
    }

    function updateProgress() {
        const { duration, currentTime } = audio;
        if (isNaN(duration)) return;
        const progressPercent = (currentTime / duration) * 100;
        progress.style.width = `${progressPercent}%`;
        currTime.innerText = formatTime(currentTime);
        durTime.innerText = formatTime(duration);
    }

    function formatTime(seconds) {
        const min = Math.floor(seconds / 60);
        const sec = Math.floor(seconds % 60);
        return `${min}:${sec < 10 ? '0' : ''}${sec}`;
    }

    function setProgress(e) {
        const clickX = e.offsetX; 
        const duration = audio.duration;
        const totalWidth = e.currentTarget.offsetWidth;
        audio.currentTime = (clickX / totalWidth) * duration;
    }

    const cards = [
        { img: "assets/boxer jo.gif",    title: "sarpatta joü•ä" },
        { img: "assets/adorable jo.gif", title: "Adorable joü•π" },
        { img: "assets/happy jo.gif",    title: "Happy jo" },
        { img: "assets/fun jo.gif",      title: "Funny jo" },
        { img: "assets/makeupjo.gif",    title: "selfcare jo" },
        { img: "assets/sadjo.gif",       title: "Depressed jo" }
    ];

    let index = 0;
    const imgEl   = document.getElementById("cardImg");
    const titleEl = document.getElementById("cardTitle");
    const shell   = document.getElementById("special-shell");

    function showCard(){
      imgEl.src = cards[index].img;
      titleEl.textContent = cards[index].title;
      shell.classList.add("bump");
      setTimeout(()=>shell.classList.remove("bump"),300);
    }

    function nextCard(){
      index = (index + 1) % cards.length;
      showCard();
    }

    function prevCard(){
      index = (index - 1 + cards.length) % cards.length;
      showCard();
    }

    document.getElementById("btnNext").onclick  = nextCard;
    document.getElementById("btnNext2").onclick = nextCard;
    document.getElementById("btnPrev").onclick  = prevCard;
    document.getElementById("btnPrev2").onclick = prevCard;

    showCard();

    document.querySelectorAll('.hint-card').forEach(card => {
        card.addEventListener('click', () => {
            card.classList.toggle('flipped');
        });
    });
</script>

</body>
</html>
